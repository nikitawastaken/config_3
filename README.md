# Конфигурационное управление
## Задание 3
### Вариант 13
Разработать инструмент командной строки для учебного конфигурационного
языка, синтаксис которого приведен далее. Этот инструмент преобразует текст из
входного формата в выходной. Синтаксические ошибки выявляются с выдачей
сообщений.
Входной текст на языке xml принимается из стандартного ввода. Выходной
текст на учебном конфигурационном языке попадает в файл, путь к которому
задан ключом командной строки.

Словари:
{
имя = значение;
имя = значение;
имя = значение;
...
}

Имена:
[a-z][a-z0-9_]*

Значения:
• Числа.
• Словари.

Объявление константы на этапе трансляции:
значение -> имя;

Вычисление константы на этапе трансляции:
- $(имя)
Результатом вычисления константного выражения является значение.

### Стек технологий
1.	Python 3: Основной язык программирования для обработки XML и генерации конфигурационного файла.
2.	argparse: Для обработки аргументов командной строки (задание входного файла и выходного пути).
3.	unittest: Для тестирования всех компонентов и функциональности инструмента.
4.	xml.etree.ElementTree: Для парсинга XML.

### Описание функционала
- Преобразование текста:
Трансляция текста из формата XML в пользовательский конфигурационный язык, поддерживающий словари, числовые значения и константы.
- Обработка вложенных конструкций:
Поддержка вложенных словарей и рекурсивная обработка их содержимого.
- Выявление ошибок:
Проверка синтаксической корректности входного XML. Сообщения об ошибках выводятся в стандартный поток ошибок.
- Константы:
- Объявление констант на этапе трансляции с использованием синтаксиса значение -> имя;.
- Вычисление значения констант с помощью конструкции $(имя).
- Аргументы командной строки:
- --output: Указание пути для сохранения выходного конфигурационного файла.


### Реализация
1.	Парсинг XML:

	•	Реализована функция parse_configuration, которая считывает входной XML-файл, извлекает словари, значения и их имена.
	•	Используется библиотека xml.etree.ElementTree для работы с XML-документами.
	•	Валидация имен производится регулярным выражением.
2.	Генерация конфигурационного файла:

	•	Преобразование данных в текстовый формат с помощью функции format_value, которая поддерживает вложенные словари и числовые значения.
	•	Константы обрабатываются согласно требованиям учебного языка.

3.	Обработка ошибок:
	•	Включены проверки для:
	•	Отсутствия обязательных элементов (<dictionary>).
	•	Некорректных имен.
	•	Неподдерживаемых значений.
	•	Все ошибки сопровождаются информативными сообщениями.

### Тестирование
Тестирование функционала пройдено успешно:
![alt text](<./images/successful_test.png>)

### Запуск
1. Клонировать репозиторий:

   ```html
   git clone https://github.com/nikitawastaken/config_3.git
   ```

2. Перейти в папку с проектом
   
   ```html
   cd config_3
   ```

3. Запустить эмулятор
   
   ```html
   python3 translator.py input.xml --output output.xml
   ```

4. Пример результата

	•	Примеры выполнения представлены в папке examples, с файлами input и соответсвующими output.
